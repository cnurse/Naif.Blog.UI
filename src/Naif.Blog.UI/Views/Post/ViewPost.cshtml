@using Naif.Blog.Razor
@using Naif.Blog.Razor.Framework

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@model Naif.Blog.ViewModels.BlogViewModel

@{
    var pageState = new PageState { User = Model.User };
    var editUrl = $"/post/edit/{Model.Post.PostId}?returnUrl=/post/{Model.Post.Slug}";
    var deleteUrl = $"/post/delete/{Model.Post.PostId}?returnUrl=/post/index";
    var categoryUrl = "/category";
    var tagUrl = "/Tag";
}

<section>
    <component type="typeof(PostView)" 
               render-mode="ServerPrerendered"
               param-DeleteUrl="@deleteUrl"
               param-EditUrl="@editUrl"
               param-CategoryUrl="@categoryUrl"
               param-PageState="@pageState"
               param-Post="@Model.Post"
               param-TagUrl = "@tagUrl">
    </component>
</section>