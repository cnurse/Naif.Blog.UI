@using Microsoft.AspNetCore.Hosting
@using Microsoft.Extensions.Hosting
@model Naif.Blog.Models.Blog
@inject IWebHostEnvironment  env

@{
    if (!string.IsNullOrEmpty(Model.GoogleAnalytics) && env.IsEnvironment("Azure"))
    {
        var src = $"https://www.googletagmanager.com/gtag/js?id={Model.GoogleAnalytics}";

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="@src"></script>
        <script>
            window.dataLayer = window.dataLayer || [];

            function gtag() { dataLayer.push(arguments); }

            gtag('js', new Date());

            gtag('config', '@Model.GoogleAnalytics');
        </script>
    }
}
